import"../chunks/DsnmJJEf.js";import{b as Oa,o as Ta,s as f}from"../chunks/CikeeQrg.js";import{p as Da,t as y,a as g,b as Pa,c as _,d as i,r as e,s,j as r,a6 as pa,f as Ra,a7 as q,h as ea,k as B}from"../chunks/BNLZGSLr.js";import{i as m}from"../chunks/DRhJDK-J.js";import{e as Ua,i as Va,s as W,b as j,c as M,r as V,d as $,g as ga}from"../chunks/Kudn4uhO.js";import{g as Fa}from"../chunks/7UhqhOqn.js";import{u as _a}from"../chunks/LRLaTeVS.js";import{s as a}from"../chunks/DWdntzOE.js";var Ka=_('<span class="material-icons svelte-g40i6i">check</span>'),La=_('<span class="step-num svelte-g40i6i"></span>'),Ga=_("<div></div>"),Ba=_('<div><div class="step-dot svelte-g40i6i"><!></div> <div class="step-meta svelte-g40i6i"><span class="step-label svelte-g40i6i"> </span> <span class="step-title svelte-g40i6i"> </span></div></div> <!>',1),Wa=_('<div class="panel-content svelte-g40i6i"><div class="features-grid svelte-g40i6i"><div class="feature-item svelte-g40i6i"><div class="feature-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">bolt</span></div> <h3 class="svelte-g40i6i">High-Speed Engine</h3> <p class="svelte-g40i6i">Optimized download manager with resume support</p></div> <div class="feature-item svelte-g40i6i"><div class="feature-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">hub</span></div> <h3 class="svelte-g40i6i">Smart Integration</h3> <p class="svelte-g40i6i">Seamless connection with Sonarr, Radarr & Jellyfin</p></div> <div class="feature-item svelte-g40i6i"><div class="feature-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">auto_awesome</span></div> <h3 class="svelte-g40i6i">Auto Detection</h3> <p class="svelte-g40i6i">Intelligent media parsing and organization</p></div></div> <button class="btn-primary-large svelte-g40i6i">BEGIN SETUP <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div>'),ja=_('<span class="input-error svelte-g40i6i"> </span>'),Ma=_('<span class="input-error svelte-g40i6i"> </span>'),$a=_('<div class="alert-box error svelte-g40i6i"><span class="material-icons svelte-g40i6i">error_outline</span> <div class="svelte-g40i6i"><strong class="svelte-g40i6i">Authentication Failed</strong> <p class="svelte-g40i6i"> </p></div></div>'),qa=_(`<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><img src="/images/logo_fshare.png" alt="FShare" class="section-logo svelte-g40i6i"/></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">FShare Authentication</h2> <p class="svelte-g40i6i">Connect your FShare account to enable downloads</p></div></div> <div class="form-section svelte-g40i6i"><div class="input-group svelte-g40i6i"><label for="email" class="svelte-g40i6i">EMAIL ADDRESS</label> <input type="email" id="email" placeholder="your.email@example.com"/> <!></div> <div class="input-group svelte-g40i6i"><label for="password" class="svelte-g40i6i">PASSWORD</label> <input type="password" id="password" placeholder="Enter your password"/> <!></div> <!> <div class="info-box svelte-g40i6i"><span class="material-icons svelte-g40i6i">info</span> <span class="svelte-g40i6i">Don't have an account? <a href="https://fshare.vn/reg.php" target="_blank" rel="noopener noreferrer" class="svelte-g40i6i">Register for FShare</a></span></div></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-primary svelte-g40i6i"> <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div></div>`),Ha=_('<span class="input-error svelte-g40i6i"> </span>'),Ya=_('<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">folder_open</span></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">Download Configuration</h2> <p class="svelte-g40i6i">Configure storage and concurrency settings</p></div></div> <div class="form-section svelte-g40i6i"><div class="input-group svelte-g40i6i"><label for="path" class="svelte-g40i6i">DOWNLOAD DIRECTORY</label> <div class="input-with-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">folder</span> <input type="text" id="path" placeholder="/downloads"/></div> <!> <span class="input-hint svelte-g40i6i">Absolute path where files will be saved</span></div> <div class="input-group svelte-g40i6i"><label for="concurrent" class="svelte-g40i6i">MAX CONCURRENT DOWNLOADS <span class="value-pill svelte-g40i6i"> </span></label> <input type="range" id="concurrent" min="1" max="10" class="range-slider svelte-g40i6i"/> <span class="input-hint svelte-g40i6i">Recommended: 3-5 concurrent downloads</span></div></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-primary svelte-g40i6i">CONTINUE <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div></div>'),za=_('<div class="integration-fields svelte-g40i6i"><input type="text" class="input-field-sm svelte-g40i6i" placeholder="http://localhost:8989"/> <input type="password" class="input-field-sm svelte-g40i6i" placeholder="API Key"/> <button class="btn-test svelte-g40i6i"> </button></div>'),Ja=_('<div class="integration-fields svelte-g40i6i"><input type="text" class="input-field-sm svelte-g40i6i" placeholder="http://localhost:7878"/> <input type="password" class="input-field-sm svelte-g40i6i" placeholder="API Key"/> <button class="btn-test svelte-g40i6i"> </button></div>'),Xa=_('<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">extension</span></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">Optional Integrations</h2> <p class="svelte-g40i6i">Connect to Sonarr, Radarr, or Jellyfin (skip if not needed)</p></div></div> <div class="form-section svelte-g40i6i"><div class="integration-box svelte-g40i6i"><div class="integration-header svelte-g40i6i"><div class="integration-info svelte-g40i6i"><div class="integration-logo-container svelte-g40i6i"><img src="https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/sonarr.png" alt="Sonarr" class="integration-logo svelte-g40i6i"/></div> <span class="svelte-g40i6i">Sonarr</span></div> <label class="switch svelte-g40i6i"><input type="checkbox" class="svelte-g40i6i"/> <span class="slider svelte-g40i6i"></span></label></div> <!></div> <div class="integration-box svelte-g40i6i"><div class="integration-header svelte-g40i6i"><div class="integration-info svelte-g40i6i"><div class="integration-logo-container svelte-g40i6i"><img src="https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/radarr.png" alt="Radarr" class="integration-logo svelte-g40i6i"/></div> <span class="svelte-g40i6i">Radarr</span></div> <label class="switch svelte-g40i6i"><input type="checkbox" class="svelte-g40i6i"/> <span class="slider svelte-g40i6i"></span></label></div> <!></div></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-secondary svelte-g40i6i">SKIP</button> <button class="btn-primary svelte-g40i6i">CONTINUE <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div></div>'),Qa=_('<div class="review-item svelte-g40i6i"><span> </span> <span class="svelte-g40i6i"> </span></div>'),Za=_('<div class="review-item svelte-g40i6i"><span> </span> <span class="svelte-g40i6i"> </span></div>'),ae=_('<div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i" style="color: var(--text-muted);">info</span> <span style="color: var(--text-muted);" class="svelte-g40i6i">No integrations configured</span></div>'),ee=_('<div class="review-section svelte-g40i6i"><div class="review-label svelte-g40i6i">INTEGRATIONS</div> <!> <!> <!></div>'),ie=_('<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">task_alt</span></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">Configuration Review</h2> <p class="svelte-g40i6i">Verify your settings before deployment</p></div></div> <div class="review-grid svelte-g40i6i"><div class="review-section svelte-g40i6i"><div class="review-label svelte-g40i6i">FSHARE ACCOUNT</div> <div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i">email</span> <span class="svelte-g40i6i"> </span></div></div> <div class="review-section svelte-g40i6i"><div class="review-label svelte-g40i6i">DOWNLOAD CONFIG</div> <div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i">folder</span> <span class="svelte-g40i6i"> </span></div> <div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i">speed</span> <span class="svelte-g40i6i"> </span></div></div> <!></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-primary-large svelte-g40i6i"> <span class="material-icons svelte-g40i6i">rocket_launch</span></button></div></div>'),se=_('<div><div class="progress-tracker svelte-g40i6i"></div> <div class="setup-panel svelte-g40i6i"><!> <!> <!> <!> <!></div></div>');function pe(ua,ba){Da(ba,!0);let F=pa(()=>a.currentStep),O=pa(()=>a.isLoading),H=ea(""),z=ea(""),Z=ea(""),J=ea("");const ra=[{id:0,title:"Welcome",label:"INIT"},{id:1,title:"FShare",label:"AUTH"},{id:2,title:"Downloads",label:"CONFIG"},{id:3,title:"Integrations",label:"EXTEND"},{id:4,title:"Review",label:"DEPLOY"}];Ta(async()=>{if(await a.checkStatus()){Fa("/");return}setTimeout(()=>{_a.finishIntro()},2e3)});function fa(l){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)}async function ma(){if(B(H,""),B(z,""),B(Z,""),!a.data.fshareEmail){B(H,"Email is required");return}if(!fa(a.data.fshareEmail)){B(H,"Invalid email format");return}if(!a.data.fsharePassword){B(z,"Password is required");return}await a.validateFshare()?a.nextStep():B(Z,"Invalid FShare credentials. Please check your email and password.")}function ha(){if(B(J,""),!a.data.downloadPath){B(J,"Download path is required");return}a.nextStep()}async function wa(){let l=!0;a.data.sonarrEnabled&&!a.sonarrValidated&&(await a.testSonarr()||(l=!1)),a.data.radarrEnabled&&!a.radarrValidated&&(await a.testRadarr()||(l=!1)),(l||!a.data.sonarrEnabled&&!a.data.radarrEnabled)&&a.nextStep()}async function Ea(){await a.completeSetup()&&setTimeout(()=>{window.location.href="/"},1500)}var aa=se();let la;var ia=i(aa);Ua(ia,21,()=>ra,Va,(l,v,o)=>{var u=Ba(),c=Ra(u);let w;var S=i(c),T=i(S);{var N=n=>{var p=Ka();g(n,p)},h=n=>{var p=La();p.textContent=o+1,g(n,p)};m(T,n=>{r(F)>o?n(N):n(h,!1)})}e(S);var E=s(S,2),x=i(E),D=i(x,!0);e(x);var P=s(x,2),U=i(P,!0);e(P),e(E),e(c);var A=s(c,2);{var C=n=>{var p=Ga();let t;y(()=>t=W(p,1,"step-connector svelte-g40i6i",null,t,{filled:r(F)>o})),g(n,p)};m(A,n=>{o<ra.length-1&&n(C)})}y(()=>{w=W(c,1,"step-indicator svelte-g40i6i",null,w,{active:r(F)===o,complete:r(F)>o}),f(D,r(v).label),f(U,r(v).title)}),g(l,u)}),e(ia);var na=s(ia,2),va=i(na);{var ya=l=>{var v=Wa(),o=s(i(v),2);o.__click=()=>a.nextStep(),e(v),j(1,v,()=>M,()=>({y:20,duration:400})),g(l,v)};m(va,l=>{r(F)===0&&l(ya)})}var da=s(va,2);{var xa=l=>{var v=qa(),o=s(i(v),2),u=i(o),c=s(i(u),2);V(c);let w;var S=s(c,2);{var T=t=>{var d=ja(),b=i(d,!0);e(d),y(()=>f(b,r(H))),g(t,d)};m(S,t=>{r(H)&&t(T)})}e(u);var N=s(u,2),h=s(i(N),2);V(h);let E;var x=s(h,2);{var D=t=>{var d=Ma(),b=i(d,!0);e(d),y(()=>f(b,r(z))),g(t,d)};m(x,t=>{r(z)&&t(D)})}e(N);var P=s(N,2);{var U=t=>{var d=$a(),b=s(i(d),2),k=s(i(b),2),I=i(k,!0);e(k),e(b),e(d),y(()=>f(I,r(Z))),j(3,d,()=>M,()=>({y:-10,duration:300})),g(t,d)};m(P,t=>{r(Z)&&t(U)})}q(2),e(o);var A=s(o,2),C=i(A);C.__click=()=>a.prevStep();var n=s(C,2);n.__click=ma;var p=i(n);q(),e(n),e(A),e(v),y(()=>{w=W(c,1,"input-field svelte-g40i6i",null,w,{error:r(H)}),c.disabled=r(O),E=W(h,1,"input-field svelte-g40i6i",null,E,{error:r(z)}),h.disabled=r(O),C.disabled=r(O),n.disabled=r(O),f(p,`${r(O)?"VALIDATING...":"CONTINUE"} `)}),$(c,()=>a.data.fshareEmail,t=>a.data.fshareEmail=t),$(h,()=>a.data.fsharePassword,t=>a.data.fsharePassword=t),j(1,v,()=>M,()=>({y:20,duration:400})),g(l,v)};m(da,l=>{r(F)===1&&l(xa)})}var oa=s(da,2);{var Sa=l=>{var v=Ya(),o=s(i(v),2),u=i(o),c=s(i(u),2),w=s(i(c),2);V(w);let S;e(c);var T=s(c,2);{var N=n=>{var p=Ha(),t=i(p,!0);e(p),y(()=>f(t,r(J))),g(n,p)};m(T,n=>{r(J)&&n(N)})}q(2),e(u);var h=s(u,2),E=i(h),x=s(i(E)),D=i(x,!0);e(x),e(E);var P=s(E,2);V(P),q(2),e(h),e(o);var U=s(o,2),A=i(U);A.__click=()=>a.prevStep();var C=s(A,2);C.__click=ha,e(U),e(v),y(()=>{S=W(w,1,"input-field svelte-g40i6i",null,S,{error:r(J)}),f(D,a.data.maxConcurrent)}),$(w,()=>a.data.downloadPath,n=>a.data.downloadPath=n),$(P,()=>a.data.maxConcurrent,n=>a.data.maxConcurrent=n),j(1,v,()=>M,()=>({y:20,duration:400})),g(l,v)};m(oa,l=>{r(F)===2&&l(Sa)})}var ca=s(oa,2);{var Na=l=>{var v=Xa(),o=s(i(v),2),u=i(o),c=i(u),w=s(i(c),2),S=i(w);V(S),q(2),e(w),e(c);var T=s(c,2);{var N=t=>{var d=za(),b=i(d);V(b);var k=s(b,2);V(k);var I=s(k,2);I.__click=()=>a.testSonarr();var Y=i(I,!0);e(I),e(d),y(()=>{I.disabled=r(O),f(Y,a.sonarrValidated?"✓ CONNECTED":"TEST CONNECTION")}),$(b,()=>a.data.sonarrUrl,K=>a.data.sonarrUrl=K),$(k,()=>a.data.sonarrApiKey,K=>a.data.sonarrApiKey=K),j(3,d,()=>M,()=>({y:-10,duration:300})),g(t,d)};m(T,t=>{a.data.sonarrEnabled&&t(N)})}e(u);var h=s(u,2),E=i(h),x=s(i(E),2),D=i(x);V(D),q(2),e(x),e(E);var P=s(E,2);{var U=t=>{var d=Ja(),b=i(d);V(b);var k=s(b,2);V(k);var I=s(k,2);I.__click=()=>a.testRadarr();var Y=i(I,!0);e(I),e(d),y(()=>{I.disabled=r(O),f(Y,a.radarrValidated?"✓ CONNECTED":"TEST CONNECTION")}),$(b,()=>a.data.radarrUrl,K=>a.data.radarrUrl=K),$(k,()=>a.data.radarrApiKey,K=>a.data.radarrApiKey=K),j(3,d,()=>M,()=>({y:-10,duration:300})),g(t,d)};m(P,t=>{a.data.radarrEnabled&&t(U)})}e(h),e(o);var A=s(o,2),C=i(A);C.__click=()=>a.prevStep();var n=s(C,2);n.__click=()=>a.nextStep();var p=s(n,2);p.__click=wa,e(A),e(v),y(()=>p.disabled=r(O)),ga(S,()=>a.data.sonarrEnabled,t=>a.data.sonarrEnabled=t),ga(D,()=>a.data.radarrEnabled,t=>a.data.radarrEnabled=t),j(1,v,()=>M,()=>({y:20,duration:400})),g(l,v)};m(ca,l=>{r(F)===3&&l(Na)})}var Ca=s(ca,2);{var ka=l=>{var v=ie(),o=s(i(v),2),u=i(o),c=s(i(u),2),w=s(i(c),2),S=i(w,!0);e(w),e(c),e(u);var T=s(u,2),N=s(i(T),2),h=s(i(N),2),E=i(h,!0);e(h),e(N);var x=s(N,2),D=s(i(x),2),P=i(D);e(D),e(x),e(T);var U=s(T,2);{var A=d=>{var b=ee(),k=s(i(b),2);{var I=R=>{var L=Qa(),G=i(L);let X;var sa=i(G,!0);e(G);var Q=s(G,2),ta=i(Q);e(Q),e(L),y(()=>{X=W(G,1,"material-icons svelte-g40i6i",null,X,{validated:a.sonarrValidated,"not-validated":!a.sonarrValidated}),f(sa,a.sonarrValidated?"check_circle":"cancel"),f(ta,`Sonarr: ${a.data.sonarrUrl??""}`)}),g(R,L)};m(k,R=>{a.data.sonarrEnabled&&R(I)})}var Y=s(k,2);{var K=R=>{var L=Za(),G=i(L);let X;var sa=i(G,!0);e(G);var Q=s(G,2),ta=i(Q);e(Q),e(L),y(()=>{X=W(G,1,"material-icons svelte-g40i6i",null,X,{validated:a.radarrValidated,"not-validated":!a.radarrValidated}),f(sa,a.radarrValidated?"check_circle":"cancel"),f(ta,`Radarr: ${a.data.radarrUrl??""}`)}),g(R,L)};m(Y,R=>{a.data.radarrEnabled&&R(K)})}var Ia=s(Y,2);{var Aa=R=>{var L=ae();g(R,L)};m(Ia,R=>{!a.data.sonarrEnabled&&!a.data.radarrEnabled&&R(Aa)})}e(b),g(d,b)};m(U,d=>{(a.data.sonarrEnabled||a.data.radarrEnabled||a.data.jellyfinEnabled)&&d(A)})}e(o);var C=s(o,2),n=i(C);n.__click=()=>a.prevStep();var p=s(n,2);p.__click=Ea;var t=i(p);q(),e(p),e(C),e(v),y(()=>{f(S,a.data.fshareEmail),f(E,a.data.downloadPath),f(P,`${a.data.maxConcurrent??""} concurrent downloads`),n.disabled=r(O),p.disabled=r(O),f(t,`${r(O)?"DEPLOYING...":"COMPLETE SETUP"} `)}),j(1,v,()=>M,()=>({y:20,duration:400})),g(l,v)};m(Ca,l=>{r(F)===4&&l(ka)})}e(na),e(aa),y(()=>la=W(aa,1,"setup-viewport svelte-g40i6i",null,la,{visible:!_a.showIntro})),g(ua,aa),Pa()}Oa(["click"]);export{pe as component};
