import"../chunks/DsnmJJEf.js";import{b as Da,o as Pa,s as m}from"../chunks/CpQGpjHh.js";import{p as Ra,t as x,a as _,b as Ua,c as u,d as i,r as e,s,j as a,a6 as la,f as Va,a7 as z,h as ia,k as W}from"../chunks/DkP3IR00.js";import{i as h}from"../chunks/DRm4gdwb.js";import{e as Fa,i as Ka,s as j,b as M,c as $,r as F,d as q,g as _a}from"../chunks/Bx19YLT4.js";import{g as ua}from"../chunks/Dqzw7G8x.js";import{u as ba}from"../chunks/g_HMU8FS.js";import{s as o}from"../chunks/CQgko0jR.js";var La=u('<span class="material-icons svelte-g40i6i">check</span>'),Ga=u('<span class="step-num svelte-g40i6i"></span>'),Ba=u("<div></div>"),Wa=u('<div><div class="step-dot svelte-g40i6i"><!></div> <div class="step-meta svelte-g40i6i"><span class="step-label svelte-g40i6i"> </span> <span class="step-title svelte-g40i6i"> </span></div></div> <!>',1),ja=u('<div class="panel-content svelte-g40i6i"><div class="features-grid svelte-g40i6i"><div class="feature-item svelte-g40i6i"><div class="feature-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">bolt</span></div> <h3 class="svelte-g40i6i">High-Speed Engine</h3> <p class="svelte-g40i6i">Optimized download manager with resume support</p></div> <div class="feature-item svelte-g40i6i"><div class="feature-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">hub</span></div> <h3 class="svelte-g40i6i">Smart Integration</h3> <p class="svelte-g40i6i">Seamless connection with Sonarr, Radarr & Jellyfin</p></div> <div class="feature-item svelte-g40i6i"><div class="feature-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">auto_awesome</span></div> <h3 class="svelte-g40i6i">Auto Detection</h3> <p class="svelte-g40i6i">Intelligent media parsing and organization</p></div></div> <button class="btn-primary-large svelte-g40i6i">BEGIN SETUP <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div>'),Ma=u('<span class="input-error svelte-g40i6i"> </span>'),$a=u('<span class="input-error svelte-g40i6i"> </span>'),qa=u('<div class="alert-box error svelte-g40i6i"><span class="material-icons svelte-g40i6i">error_outline</span> <div class="svelte-g40i6i"><strong class="svelte-g40i6i">Authentication Failed</strong> <p class="svelte-g40i6i"> </p></div></div>'),za=u(`<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><img src="/images/logo_fshare.png" alt="FShare" class="section-logo svelte-g40i6i"/></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">FShare Authentication</h2> <p class="svelte-g40i6i">Connect your FShare account to enable downloads</p></div></div> <div class="form-section svelte-g40i6i"><div class="input-group svelte-g40i6i"><label for="email" class="svelte-g40i6i">EMAIL ADDRESS</label> <input type="email" id="email" placeholder="your.email@example.com"/> <!></div> <div class="input-group svelte-g40i6i"><label for="password" class="svelte-g40i6i">PASSWORD</label> <input type="password" id="password" placeholder="Enter your password"/> <!></div> <!> <div class="info-box svelte-g40i6i"><span class="material-icons svelte-g40i6i">info</span> <span class="svelte-g40i6i">Don't have an account? <a href="https://fshare.vn/reg.php" target="_blank" rel="noopener noreferrer" class="svelte-g40i6i">Register for FShare</a></span></div></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-primary svelte-g40i6i"> <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div></div>`),Ha=u('<span class="input-error svelte-g40i6i"> </span>'),Ya=u('<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">folder_open</span></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">Download Configuration</h2> <p class="svelte-g40i6i">Configure storage and concurrency settings</p></div></div> <div class="form-section svelte-g40i6i"><div class="input-group svelte-g40i6i"><label for="path" class="svelte-g40i6i">DOWNLOAD DIRECTORY</label> <div class="input-with-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">folder</span> <input type="text" id="path" placeholder="/downloads"/></div> <!> <span class="input-hint svelte-g40i6i">Absolute path where files will be saved</span></div> <div class="input-group svelte-g40i6i"><label for="concurrent" class="svelte-g40i6i">MAX CONCURRENT DOWNLOADS <span class="value-pill svelte-g40i6i"> </span></label> <input type="range" id="concurrent" min="1" max="10" class="range-slider svelte-g40i6i"/> <span class="input-hint svelte-g40i6i">Recommended: 3-5 concurrent downloads</span></div></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-primary svelte-g40i6i">CONTINUE <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div></div>'),Ja=u('<div class="integration-fields svelte-g40i6i"><input type="text" class="input-field-sm svelte-g40i6i" placeholder="http://localhost:8989"/> <input type="password" class="input-field-sm svelte-g40i6i" placeholder="API Key"/> <button class="btn-test svelte-g40i6i"> </button></div>'),Xa=u('<div class="integration-fields svelte-g40i6i"><input type="text" class="input-field-sm svelte-g40i6i" placeholder="http://localhost:7878"/> <input type="password" class="input-field-sm svelte-g40i6i" placeholder="API Key"/> <button class="btn-test svelte-g40i6i"> </button></div>'),Qa=u('<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">extension</span></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">Optional Integrations</h2> <p class="svelte-g40i6i">Connect to Sonarr, Radarr, or Jellyfin (skip if not needed)</p></div></div> <div class="form-section svelte-g40i6i"><div class="integration-box svelte-g40i6i"><div class="integration-header svelte-g40i6i"><div class="integration-info svelte-g40i6i"><div class="integration-logo-container svelte-g40i6i"><img src="https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/sonarr.png" alt="Sonarr" class="integration-logo svelte-g40i6i"/></div> <span class="svelte-g40i6i">Sonarr</span></div> <label class="switch svelte-g40i6i"><input type="checkbox" class="svelte-g40i6i"/> <span class="slider svelte-g40i6i"></span></label></div> <!></div> <div class="integration-box svelte-g40i6i"><div class="integration-header svelte-g40i6i"><div class="integration-info svelte-g40i6i"><div class="integration-logo-container svelte-g40i6i"><img src="https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/radarr.png" alt="Radarr" class="integration-logo svelte-g40i6i"/></div> <span class="svelte-g40i6i">Radarr</span></div> <label class="switch svelte-g40i6i"><input type="checkbox" class="svelte-g40i6i"/> <span class="slider svelte-g40i6i"></span></label></div> <!></div></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-secondary svelte-g40i6i">SKIP</button> <button class="btn-primary svelte-g40i6i">CONTINUE <span class="material-icons svelte-g40i6i">arrow_forward</span></button></div></div>'),Za=u('<div class="review-item svelte-g40i6i"><span> </span> <span class="svelte-g40i6i"> </span></div>'),ae=u('<div class="review-item svelte-g40i6i"><span> </span> <span class="svelte-g40i6i"> </span></div>'),ee=u('<div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i" style="color: var(--text-muted);">info</span> <span style="color: var(--text-muted);" class="svelte-g40i6i">No integrations configured</span></div>'),ie=u('<div class="review-section svelte-g40i6i"><div class="review-label svelte-g40i6i">INTEGRATIONS</div> <!> <!> <!></div>'),se=u('<div class="panel-content svelte-g40i6i"><div class="section-header svelte-g40i6i"><div class="section-icon svelte-g40i6i"><span class="material-icons svelte-g40i6i">task_alt</span></div> <div class="svelte-g40i6i"><h2 class="svelte-g40i6i">Configuration Review</h2> <p class="svelte-g40i6i">Verify your settings before deployment</p></div></div> <div class="review-grid svelte-g40i6i"><div class="review-section svelte-g40i6i"><div class="review-label svelte-g40i6i">FSHARE ACCOUNT</div> <div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i">email</span> <span class="svelte-g40i6i"> </span></div></div> <div class="review-section svelte-g40i6i"><div class="review-label svelte-g40i6i">DOWNLOAD CONFIG</div> <div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i">folder</span> <span class="svelte-g40i6i"> </span></div> <div class="review-item svelte-g40i6i"><span class="material-icons svelte-g40i6i">speed</span> <span class="svelte-g40i6i"> </span></div></div> <!></div> <div class="action-bar svelte-g40i6i"><button class="btn-secondary svelte-g40i6i"><span class="material-icons svelte-g40i6i">arrow_back</span> BACK</button> <button class="btn-primary-large svelte-g40i6i"> <span class="material-icons svelte-g40i6i">rocket_launch</span></button></div></div>'),te=u('<div><div class="progress-tracker svelte-g40i6i"></div> <div class="setup-panel svelte-g40i6i"><!> <!> <!> <!> <!></div></div>');function ge(fa,ma){Ra(ma,!0);let K=la(()=>o.currentStep),t=la(()=>o.data),T=la(()=>o.isLoading),H=ia(""),J=ia(""),aa=ia(""),X=ia("");const na=[{id:0,title:"Welcome",label:"INIT"},{id:1,title:"FShare",label:"AUTH"},{id:2,title:"Downloads",label:"CONFIG"},{id:3,title:"Integrations",label:"EXTEND"},{id:4,title:"Review",label:"DEPLOY"}];Pa(async()=>{if(await o.checkStatus()){ua("/");return}setTimeout(()=>{ba.finishIntro()},2e3)});function ha(l){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)}async function wa(){if(W(H,""),W(J,""),W(aa,""),!a(t).fshareEmail){W(H,"Email is required");return}if(!ha(a(t).fshareEmail)){W(H,"Invalid email format");return}if(!a(t).fsharePassword){W(J,"Password is required");return}await o.validateFshare()?o.nextStep():W(aa,"Invalid FShare credentials. Please check your email and password.")}function Ea(){if(W(X,""),!a(t).downloadPath){W(X,"Download path is required");return}o.nextStep()}async function ya(){let l=!0;a(t).sonarrEnabled&&!o.sonarrValidated&&(await o.testSonarr()||(l=!1)),a(t).radarrEnabled&&!o.radarrValidated&&(await o.testRadarr()||(l=!1)),(l||!a(t).sonarrEnabled&&!a(t).radarrEnabled)&&o.nextStep()}async function xa(){await o.completeSetup()&&setTimeout(()=>{ua("/")},1500)}var ea=te();let va;var sa=i(ea);Fa(sa,21,()=>na,Ka,(l,v,c)=>{var b=Wa(),p=Va(b);let E;var N=i(p),D=i(N);{var C=n=>{var g=La();_(n,g)},w=n=>{var g=Ga();g.textContent=c+1,_(n,g)};h(D,n=>{a(K)>c?n(C):n(w,!1)})}e(N);var y=s(N,2),S=i(y),P=i(S,!0);e(S);var R=s(S,2),V=i(R,!0);e(R),e(y),e(p);var O=s(p,2);{var k=n=>{var g=Ba();let r;x(()=>r=j(g,1,"step-connector svelte-g40i6i",null,r,{filled:a(K)>c})),_(n,g)};h(O,n=>{c<na.length-1&&n(k)})}x(()=>{E=j(p,1,"step-indicator svelte-g40i6i",null,E,{active:a(K)===c,complete:a(K)>c}),m(P,a(v).label),m(V,a(v).title)}),_(l,b)}),e(sa);var oa=s(sa,2),da=i(oa);{var Sa=l=>{var v=ja(),c=s(i(v),2);c.__click=()=>o.nextStep(),e(v),M(1,v,()=>$,()=>({y:20,duration:400})),_(l,v)};h(da,l=>{a(K)===0&&l(Sa)})}var ca=s(da,2);{var Na=l=>{var v=za(),c=s(i(v),2),b=i(c),p=s(i(b),2);F(p);let E;var N=s(p,2);{var D=r=>{var d=Ma(),f=i(d,!0);e(d),x(()=>m(f,a(H))),_(r,d)};h(N,r=>{a(H)&&r(D)})}e(b);var C=s(b,2),w=s(i(C),2);F(w);let y;var S=s(w,2);{var P=r=>{var d=$a(),f=i(d,!0);e(d),x(()=>m(f,a(J))),_(r,d)};h(S,r=>{a(J)&&r(P)})}e(C);var R=s(C,2);{var V=r=>{var d=qa(),f=s(i(d),2),I=s(i(f),2),A=i(I,!0);e(I),e(f),e(d),x(()=>m(A,a(aa))),M(3,d,()=>$,()=>({y:-10,duration:300})),_(r,d)};h(R,r=>{a(aa)&&r(V)})}z(2),e(c);var O=s(c,2),k=i(O);k.__click=()=>o.prevStep();var n=s(k,2);n.__click=wa;var g=i(n);z(),e(n),e(O),e(v),x(()=>{E=j(p,1,"input-field svelte-g40i6i",null,E,{error:a(H)}),p.disabled=a(T),y=j(w,1,"input-field svelte-g40i6i",null,y,{error:a(J)}),w.disabled=a(T),k.disabled=a(T),n.disabled=a(T),m(g,`${a(T)?"VALIDATING...":"CONTINUE"} `)}),q(p,()=>a(t).fshareEmail,r=>a(t).fshareEmail=r),q(w,()=>a(t).fsharePassword,r=>a(t).fsharePassword=r),M(1,v,()=>$,()=>({y:20,duration:400})),_(l,v)};h(ca,l=>{a(K)===1&&l(Na)})}var pa=s(ca,2);{var Ca=l=>{var v=Ya(),c=s(i(v),2),b=i(c),p=s(i(b),2),E=s(i(p),2);F(E);let N;e(p);var D=s(p,2);{var C=n=>{var g=Ha(),r=i(g,!0);e(g),x(()=>m(r,a(X))),_(n,g)};h(D,n=>{a(X)&&n(C)})}z(2),e(b);var w=s(b,2),y=i(w),S=s(i(y)),P=i(S,!0);e(S),e(y);var R=s(y,2);F(R),z(2),e(w),e(c);var V=s(c,2),O=i(V);O.__click=()=>o.prevStep();var k=s(O,2);k.__click=Ea,e(V),e(v),x(()=>{N=j(E,1,"input-field svelte-g40i6i",null,N,{error:a(X)}),m(P,a(t).maxConcurrent)}),q(E,()=>a(t).downloadPath,n=>a(t).downloadPath=n),q(R,()=>a(t).maxConcurrent,n=>a(t).maxConcurrent=n),M(1,v,()=>$,()=>({y:20,duration:400})),_(l,v)};h(pa,l=>{a(K)===2&&l(Ca)})}var ga=s(pa,2);{var ka=l=>{var v=Qa(),c=s(i(v),2),b=i(c),p=i(b),E=s(i(p),2),N=i(E);F(N),z(2),e(E),e(p);var D=s(p,2);{var C=r=>{var d=Ja(),f=i(d);F(f);var I=s(f,2);F(I);var A=s(I,2);A.__click=()=>o.testSonarr();var Y=i(A,!0);e(A),e(d),x(()=>{A.disabled=a(T),m(Y,o.sonarrValidated?"✓ CONNECTED":"TEST CONNECTION")}),q(f,()=>a(t).sonarrUrl,L=>a(t).sonarrUrl=L),q(I,()=>a(t).sonarrApiKey,L=>a(t).sonarrApiKey=L),M(3,d,()=>$,()=>({y:-10,duration:300})),_(r,d)};h(D,r=>{a(t).sonarrEnabled&&r(C)})}e(b);var w=s(b,2),y=i(w),S=s(i(y),2),P=i(S);F(P),z(2),e(S),e(y);var R=s(y,2);{var V=r=>{var d=Xa(),f=i(d);F(f);var I=s(f,2);F(I);var A=s(I,2);A.__click=()=>o.testRadarr();var Y=i(A,!0);e(A),e(d),x(()=>{A.disabled=a(T),m(Y,o.radarrValidated?"✓ CONNECTED":"TEST CONNECTION")}),q(f,()=>a(t).radarrUrl,L=>a(t).radarrUrl=L),q(I,()=>a(t).radarrApiKey,L=>a(t).radarrApiKey=L),M(3,d,()=>$,()=>({y:-10,duration:300})),_(r,d)};h(R,r=>{a(t).radarrEnabled&&r(V)})}e(w),e(c);var O=s(c,2),k=i(O);k.__click=()=>o.prevStep();var n=s(k,2);n.__click=()=>o.nextStep();var g=s(n,2);g.__click=ya,e(O),e(v),x(()=>g.disabled=a(T)),_a(N,()=>a(t).sonarrEnabled,r=>a(t).sonarrEnabled=r),_a(P,()=>a(t).radarrEnabled,r=>a(t).radarrEnabled=r),M(1,v,()=>$,()=>({y:20,duration:400})),_(l,v)};h(ga,l=>{a(K)===3&&l(ka)})}var Ia=s(ga,2);{var Aa=l=>{var v=se(),c=s(i(v),2),b=i(c),p=s(i(b),2),E=s(i(p),2),N=i(E,!0);e(E),e(p),e(b);var D=s(b,2),C=s(i(D),2),w=s(i(C),2),y=i(w,!0);e(w),e(C);var S=s(C,2),P=s(i(S),2),R=i(P);e(P),e(S),e(D);var V=s(D,2);{var O=d=>{var f=ie(),I=s(i(f),2);{var A=U=>{var G=Za(),B=i(G);let Q;var ta=i(B,!0);e(B);var Z=s(B,2),ra=i(Z);e(Z),e(G),x(()=>{Q=j(B,1,"material-icons svelte-g40i6i",null,Q,{validated:o.sonarrValidated,"not-validated":!o.sonarrValidated}),m(ta,o.sonarrValidated?"check_circle":"cancel"),m(ra,`Sonarr: ${a(t).sonarrUrl??""}`)}),_(U,G)};h(I,U=>{a(t).sonarrEnabled&&U(A)})}var Y=s(I,2);{var L=U=>{var G=ae(),B=i(G);let Q;var ta=i(B,!0);e(B);var Z=s(B,2),ra=i(Z);e(Z),e(G),x(()=>{Q=j(B,1,"material-icons svelte-g40i6i",null,Q,{validated:o.radarrValidated,"not-validated":!o.radarrValidated}),m(ta,o.radarrValidated?"check_circle":"cancel"),m(ra,`Radarr: ${a(t).radarrUrl??""}`)}),_(U,G)};h(Y,U=>{a(t).radarrEnabled&&U(L)})}var Oa=s(Y,2);{var Ta=U=>{var G=ee();_(U,G)};h(Oa,U=>{!a(t).sonarrEnabled&&!a(t).radarrEnabled&&U(Ta)})}e(f),_(d,f)};h(V,d=>{(a(t).sonarrEnabled||a(t).radarrEnabled||a(t).jellyfinEnabled)&&d(O)})}e(c);var k=s(c,2),n=i(k);n.__click=()=>o.prevStep();var g=s(n,2);g.__click=xa;var r=i(g);z(),e(g),e(k),e(v),x(()=>{m(N,a(t).fshareEmail),m(y,a(t).downloadPath),m(R,`${a(t).maxConcurrent??""} concurrent downloads`),n.disabled=a(T),g.disabled=a(T),m(r,`${a(T)?"DEPLOYING...":"COMPLETE SETUP"} `)}),M(1,v,()=>$,()=>({y:20,duration:400})),_(l,v)};h(Ia,l=>{a(K)===4&&l(Aa)})}e(oa),e(ea),x(()=>va=j(ea,1,"setup-viewport svelte-g40i6i",null,va,{visible:!ba.showIntro})),_(fa,ea),Ua()}Da(["click"]);export{ge as component};
