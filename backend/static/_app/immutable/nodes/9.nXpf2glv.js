import{d as ya,e as Ee,a as i,f as x,r as Ue,c as M,s as p}from"../chunks/sPtpOMd4.js";import{p as Da,W as L,w as Ce,U as Pe,v as e,x as h,t as A,a as Ma,V as xe,c as t,s as v,r as s,f as u,X as Ne}from"../chunks/rK_yDtst.js";import{i as m}from"../chunks/CjsBHn32.js";import{t as Ve,s as Q,a as j,e as B,i as F}from"../chunks/CL9ZHmPK.js";import{s as Aa}from"../chunks/C1treoV-.js";import{u as Oe,b as Ra,M as je}from"../chunks/Cr3OiNyB.js";import{p as Ta}from"../chunks/CF32mMaC.js";import"../chunks/BYbO11pS.js";import{h as Ia,c as La,d as Ba,i as Fa,f as Ye,a as qe,e as Ea}from"../chunks/Czxl06ln.js";var Ua=x('<div></div> <img alt="" class="hidden-loader svelte-1of4dxf"/>',1),Ca=x('<div class="skeleton skeleton-tagline svelte-1of4dxf"></div> <div class="skeleton skeleton-title svelte-1of4dxf"></div> <div class="skeleton skeleton-meta svelte-1of4dxf"></div>',1),Pa=x('<div class="detail-tagline svelte-1of4dxf"> </div>'),Na=x('<!> <h1 class="detail-title svelte-1of4dxf"> </h1> <div class="detail-meta svelte-1of4dxf"><span class="meta-year svelte-1of4dxf"> </span> <span class="meta-divider svelte-1of4dxf">•</span> <span class="meta-rating svelte-1of4dxf"><span class="material-icons svelte-1of4dxf">star</span> </span> <span class="meta-divider svelte-1of4dxf">•</span> <span class="meta-runtime svelte-1of4dxf"> </span> <span class="meta-divider svelte-1of4dxf">•</span> <span class="meta-genres svelte-1of4dxf"> </span></div>',1),Va=x('<div class="skeleton skeleton-text svelte-1of4dxf"></div> <div class="skeleton skeleton-text svelte-1of4dxf"></div> <div class="skeleton skeleton-text svelte-1of4dxf" style="width: 60%"></div>',1),Oa=x('<p class="overview-text svelte-1of4dxf"> </p>'),ja=x('<option class="svelte-1of4dxf"> </option>'),Ya=x('<select class="season-selector glass-panel svelte-1of4dxf"></select>'),qa=x('<div class="episode-card glass-panel skeleton-bg svelte-1of4dxf"><div class="episode-thumbnail skeleton svelte-1of4dxf"></div> <div class="episode-info svelte-1of4dxf"><div class="skeleton skeleton-title svelte-1of4dxf" style="height: 1.5rem; width: 60%"></div> <div class="skeleton skeleton-text svelte-1of4dxf" style="margin-top: 1rem"></div> <div class="skeleton skeleton-text svelte-1of4dxf"></div></div></div>'),Ha=x('<div class="episode-card glass-panel svelte-1of4dxf"><div class="episode-thumbnail svelte-1of4dxf"><img class="svelte-1of4dxf"/> <div class="episode-badge svelte-1of4dxf"> </div></div> <div class="episode-info svelte-1of4dxf"><div class="episode-header svelte-1of4dxf"><div class="episode-title-row svelte-1of4dxf"><h4 class="episode-name svelte-1of4dxf"> </h4> <span class="episode-date svelte-1of4dxf"> </span></div> <button class="icon-btn-tiny svelte-1of4dxf" title="Search this episode"><span class="material-icons svelte-1of4dxf">manage_search</span></button></div> <p class="episode-overview svelte-1of4dxf"> </p></div></div>'),Wa=x('<div class="related-card svelte-1of4dxf"><div class="related-poster skeleton svelte-1of4dxf"></div> <div class="related-info svelte-1of4dxf"><div class="skeleton skeleton-small-text svelte-1of4dxf"></div> <div class="skeleton skeleton-small-text svelte-1of4dxf" style="width: 40%"></div></div></div>'),Xa=x('<div class="related-card svelte-1of4dxf"><div class="related-poster skeleton svelte-1of4dxf"></div> <div class="related-info svelte-1of4dxf"><div class="skeleton skeleton-small-text svelte-1of4dxf"></div> <div class="skeleton skeleton-small-text svelte-1of4dxf" style="width: 40%"></div></div></div>'),za=x('<section class="related-section svelte-1of4dxf"><h3 class="section-label svelte-1of4dxf">Recommended for You</h3> <div class="related-grid svelte-1of4dxf" role="status" aria-label="Loading recommended titles"><!></div></section>'),Ga=x('<div class="info-row svelte-1of4dxf"><div class="skeleton skeleton-small-text svelte-1of4dxf" style="width: 30%"></div></div>'),Ja=x('<div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">Runtime</span> <span class="value svelte-1of4dxf"> </span></div>'),Ka=x('<div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">IMDB SCORE</span> <span class="value svelte-1of4dxf"> </span></div>'),Qa=x('<a target="_blank" class="link-icon svelte-1of4dxf" title="IMDb"><img src="https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg" alt="IMDb" class="svelte-1of4dxf"/></a>'),Za=x('<div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">Status</span> <span class="value svelte-1of4dxf" style="color: var(--color-primary)"> </span></div> <div class="info-section-label svelte-1of4dxf">Broadcast Intelligence</div> <div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">First Air</span> <span class="value svelte-1of4dxf"> </span></div> <div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">Rating</span> <span class="value svelte-1of4dxf" style="color: #ffcc00"> </span></div> <div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">Seasons</span> <span class="value svelte-1of4dxf"> </span></div> <div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">Episodes</span> <span class="value svelte-1of4dxf"> </span></div> <!> <div class="info-section-label svelte-1of4dxf">Intelligence Scores</div> <div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">TMDB SCORE</span> <span class="value svelte-1of4dxf"> </span></div> <!> <div class="info-row svelte-1of4dxf"><span class="label svelte-1of4dxf">Language</span> <span class="value svelte-1of4dxf"> </span></div> <div class="external-links svelte-1of4dxf"><a target="_blank" class="link-icon svelte-1of4dxf" title="TMDB"><img src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg" alt="TMDB" class="svelte-1of4dxf"/></a> <!></div>',1),$a=x('<span class="keyword-tag svelte-1of4dxf"> </span>'),es=x('<div class="keywords-panel svelte-1of4dxf"></div>'),as=x('<div class="media-detail-view svelte-1of4dxf" data-view="tv"><div class="detail-container svelte-1of4dxf"><div style="background-image: url(/images/placeholder-banner.png)"><!> <div class="hero-overlay svelte-1of4dxf"></div> <div class="hero-content svelte-1of4dxf"><div><img/></div> <div class="hero-info svelte-1of4dxf"><!></div></div></div> <div class="detail-grid svelte-1of4dxf"><div class="main-content svelte-1of4dxf"><section class="overview-section svelte-1of4dxf"><h3 class="section-label svelte-1of4dxf">Overview</h3> <!></section> <section class="seasons-section svelte-1of4dxf"><div class="section-header svelte-1of4dxf"><h3 class="section-label svelte-1of4dxf">Seasons</h3> <!></div> <div class="episodes-list svelte-1of4dxf"><!></div></section> <section class="related-section svelte-1of4dxf"><h3 class="section-label svelte-1of4dxf">Similar Titles</h3> <div class="related-grid svelte-1of4dxf" role="status" aria-label="Loading similar titles"><!></div></section> <!></div> <aside class="detail-sidebar svelte-1of4dxf"><div class="action-panel glass-panel svelte-1of4dxf"><button class="smart-search-btn svelte-1of4dxf"><span class="material-icons svelte-1of4dxf">manage_search</span> SMART SEARCH</button></div> <div class="stats-panel glass-panel svelte-1of4dxf"><!></div> <!></aside></div></div></div>');function fs(He,We){Da(We,!0);const H=xe(()=>Ta.params.id);let r=L(null),Z=L(Ce([])),$=L(Ce([])),Y=L(null),ee=L(null),k=L(!0),ae=L(!1),se=L(!1),te=L(!1);async function Xe(){h(k,!0);try{const a=await Ia(e(H));if(a){h(r,a,!0);const l=a.seasons.find(o=>o.season_number>0)||a.seasons[0];l&&(h(Y,l.season_number,!0),await me(l.season_number));const[d,f]=await Promise.all([La("tv",e(H)),Ba("tv",e(H))]);h(Z,d.slice(0,4),!0),h($,f.slice(0,4),!0)}}catch(a){console.error("Failed to load TV data:",a),Ve.error("Failed to load TV intelligence brief")}finally{h(k,!1)}}async function me(a){h(ae,!0);try{const l=await Fa(e(H),a);h(ee,l,!0)}catch(l){console.error("Failed to load season:",l),Ve.error(`Failed to load Season ${a}`)}finally{h(ae,!1)}}function ze(){e(r)&&Oe.openSmartSearch({tmdbId:String(e(r).id),type:"tv",title:e(r).name,season:e(Y)||1})}function Ge(a){e(r)&&Oe.openSmartSearch({tmdbId:String(e(r).id),type:"tv",title:e(r).name,season:a.season_number,episode:a.episode_number})}let ge=xe(()=>e(r)?.keywords?.results||[]);function Je(a){return Math.round(a*10)}let Ke=xe(()=>{if(!e(r)?.content_ratings)return"N/A";const a=e(r).content_ratings.results.find(l=>l.iso_3166_1==="US");return a?a.rating:"NR"});Pe(()=>{e(H)&&(h(se,!1),h(te,!1),Xe())}),Pe(()=>{e(Y)!==null&&e(r)&&me(e(Y))});var le=as(),ue=t(le),z=t(ue);let be;var he=t(z);{var Qe=a=>{var l=Ua(),d=u(l);let f;var o=v(d,2);A((n,c)=>{f=Q(d,1,"backdrop-real svelte-1of4dxf",null,f,{loaded:e(te)}),Aa(d,n),j(o,"src",c)},[()=>`background-image: url(${qe(e(r).backdrop_path,"original")})`,()=>qe(e(r).backdrop_path,"original")]),Ee("load",o,()=>h(te,!0)),Ue(o),i(a,l)};m(he,a=>{e(r)?.backdrop_path&&a(Qe)})}var ke=v(he,4),G=t(ke);let we;var W=t(G);let Se;s(G);var ye=v(G,2),Ze=t(ye);{var $e=a=>{var l=Ca();Ne(4),i(a,l)},ea=a=>{var l=M(),d=u(l);{var f=o=>{var n=Na(),c=u(n);{var b=S=>{var I=Pa(),N=t(I,!0);s(I),A(()=>p(N,e(r).tagline)),i(S,I)};m(c,S=>{e(r).tagline&&S(b)})}var _=v(c,2),w=t(_,!0);s(_);var g=v(_,2),R=t(g),E=t(R,!0);s(R);var U=v(R,4),q=v(t(U));s(U);var T=v(U,4),C=t(T);s(T);var P=v(T,4),V=t(P,!0);s(P),s(g),A((S,I,N)=>{p(w,e(r).name),p(E,S),p(q,` ${I??""}`),p(C,`${e(r).number_of_seasons??""}
                ${e(r).number_of_seasons===1?"Season":"Seasons"}`),p(V,N)},[()=>Ea(e(r).first_air_date),()=>e(r).vote_average.toFixed(1),()=>e(r).genres.slice(0,3).map(S=>S.name).join(" / ")]),i(o,n)};m(d,o=>{e(r)&&o(f)},!0)}i(a,l)};m(Ze,a=>{e(k)?a($e):a(ea,!1)})}s(ye),s(ke),s(z);var De=v(z,2),re=t(De),ve=t(re),aa=v(t(ve),2);{var sa=a=>{var l=Va();Ne(4),i(a,l)},ta=a=>{var l=M(),d=u(l);{var f=o=>{var n=Oa(),c=t(n,!0);s(n),A(()=>p(c,e(r).overview||"No overview available.")),i(o,n)};m(d,o=>{e(r)&&o(f)},!0)}i(a,l)};m(aa,a=>{e(k)?a(sa):a(ta,!1)})}s(ve);var oe=v(ve,2),ie=t(oe),la=v(t(ie),2);{var ra=a=>{var l=Ya();B(l,21,()=>e(r).seasons.filter(d=>d.season_number>0),F,(d,f)=>{var o=ja(),n=t(o);s(o);var c={};A(()=>{p(n,`Season ${e(f).season_number??""}`),c!==(c=e(f).season_number)&&(o.value=(o.__value=e(f).season_number)??"")}),i(d,o)}),s(l),Ra(l,()=>e(Y),d=>h(Y,d)),i(a,l)};m(la,a=>{!e(k)&&e(r)&&e(r).seasons.length>1&&a(ra)})}s(ie);var Me=v(ie,2),va=t(Me);{var oa=a=>{var l=M(),d=u(l);B(d,16,()=>Array(3),F,(f,o)=>{var n=qa();i(f,n)}),i(a,l)},ia=a=>{var l=M(),d=u(l);{var f=o=>{var n=M(),c=u(n);B(c,17,()=>e(ee).episodes,F,(b,_)=>{var w=Ha(),g=t(w),R=t(g),E=v(R,2),U=t(E);s(E),s(g);var q=v(g,2),T=t(q),C=t(T),P=t(C),V=t(P,!0);s(P);var S=v(P,2),I=t(S,!0);s(S),s(C);var N=v(C,2);N.__click=()=>Ge(e(_)),s(T);var J=v(T,2),X=t(J,!0);s(J),s(q),s(w),A((K,ce)=>{j(R,"src",K),j(R,"alt",e(_).name),p(U,`EP ${e(_).episode_number??""}`),p(V,e(_).name),p(I,ce),p(X,e(_).overview||"No overview available.")},[()=>Ye(e(_).still_path,"w500")||"/images/placeholder-poster.svg",()=>new Date(e(_).air_date).toLocaleDateString()]),i(b,w)}),i(o,n)};m(d,o=>{e(ee)&&o(f)},!0)}i(a,l)};m(va,a=>{e(k)||e(ae)?a(oa):a(ia,!1)})}s(Me),s(oe);var de=v(oe,2),Ae=v(t(de),2),da=t(Ae);{var na=a=>{var l=M(),d=u(l);B(d,16,()=>Array(4),F,(f,o)=>{var n=Wa();i(f,n)}),i(a,l)},fa=a=>{var l=M(),d=u(l);{var f=o=>{var n=M(),c=u(n);B(c,17,()=>e(Z),F,(b,_)=>{je(b,{get id(){return e(_).id},get title(){return e(_).name},get posterPath(){return e(_).poster_path},get voteAverage(){return e(_).vote_average},get releaseDate(){return e(_).first_air_date},get overview(){return e(_).overview},mediaType:"tv"})}),i(o,n)};m(d,o=>{e(Z).length>0&&o(f)},!0)}i(a,l)};m(da,a=>{e(k)?a(na):a(fa,!1)})}s(Ae),s(de);var ca=v(de,2);{var _a=a=>{var l=za(),d=v(t(l),2),f=t(d);{var o=c=>{var b=M(),_=u(b);B(_,16,()=>Array(4),F,(w,g)=>{var R=Xa();i(w,R)}),i(c,b)},n=c=>{var b=M(),_=u(b);B(_,17,()=>e($),F,(w,g)=>{je(w,{get id(){return e(g).id},get title(){return e(g).name},get posterPath(){return e(g).poster_path},get voteAverage(){return e(g).vote_average},get releaseDate(){return e(g).first_air_date},get overview(){return e(g).overview},mediaType:"tv"})}),i(c,b)};m(f,c=>{e(k)?c(o):c(n,!1)})}s(d),s(l),i(a,l)};m(ca,a=>{(e(k)||e($).length>0)&&a(_a)})}s(re);var Re=v(re,2),ne=t(Re),Te=t(ne);Te.__click=ze,s(ne);var fe=v(ne,2),pa=t(fe);{var xa=a=>{var l=M(),d=u(l);B(d,16,()=>Array(4),F,(f,o)=>{var n=Ga();i(f,n)}),i(a,l)},ma=a=>{var l=M(),d=u(l);{var f=o=>{var n=Za(),c=u(n),b=v(t(c),2),_=t(b,!0);s(b),s(c);var w=v(c,4),g=v(t(w),2),R=t(g,!0);s(g),s(w);var E=v(w,2),U=v(t(E),2),q=t(U,!0);s(U),s(E);var T=v(E,2),C=v(t(T),2),P=t(C,!0);s(C),s(T);var V=v(T,2),S=v(t(V),2),I=t(S,!0);s(S),s(V);var N=v(V,2);{var J=y=>{var D=Ja(),O=v(t(D),2),pe=t(O);s(O),s(D),A(()=>p(pe,`${e(r).episode_run_time[0]??""}m`)),i(y,D)};m(N,y=>{e(r).episode_run_time.length>0&&y(J)})}var X=v(N,4),K=v(t(X),2),ce=t(K);s(K),s(X);var Ie=v(X,2);{var ba=y=>{var D=Ka(),O=v(t(D),2),pe=t(O,!0);s(O),s(D),A(Sa=>p(pe,Sa),[()=>e(r).vote_average.toFixed(1)]),i(y,D)};m(Ie,y=>{e(r).external_ids?.imdb_id&&y(ba)})}var _e=v(Ie,2),Le=v(t(_e),2),ha=t(Le,!0);s(Le),s(_e);var Be=v(_e,2),Fe=t(Be),ka=v(Fe,2);{var wa=y=>{var D=Qa();A(()=>j(D,"href",`https://www.imdb.com/title/${e(r).external_ids.imdb_id??""}`)),i(y,D)};m(ka,y=>{e(r).external_ids?.imdb_id&&y(wa)})}s(Be),A((y,D,O)=>{p(_,e(r).status),p(R,y),p(q,e(Ke)),p(P,e(r).number_of_seasons),p(I,e(r).number_of_episodes),p(ce,`${D??""}%`),p(ha,O),j(Fe,"href",`https://www.themoviedb.org/tv/${e(r).id??""}`)},[()=>new Date(e(r).first_air_date).toLocaleDateString(),()=>Je(e(r).vote_average),()=>e(r).original_language.toUpperCase()]),i(o,n)};m(d,o=>{e(r)&&o(f)},!0)}i(a,l)};m(pa,a=>{e(k)?a(xa):a(ma,!1)})}s(fe);var ga=v(fe,2);{var ua=a=>{var l=es();B(l,21,()=>e(ge).slice(0,10),F,(d,f)=>{var o=$a(),n=t(o,!0);s(o),A(()=>p(n,e(f).name)),i(d,o)}),s(l),i(a,l)};m(ga,a=>{e(ge).length>0&&a(ua)})}s(Re),s(De),s(ue),s(le),A(a=>{be=Q(z,1,"detail-hero svelte-1of4dxf",null,be,{"skeleton-bg":e(k)}),we=Q(G,1,"poster-container glass-panel svelte-1of4dxf",null,we,{skeleton:e(k)}),j(W,"src",a),j(W,"alt",e(r)?.name||"Unknown Subject"),Se=Q(W,1,"detail-poster svelte-1of4dxf",null,Se,{loaded:e(se)||!e(r)?.poster_path}),Te.disabled=e(k)},[()=>e(r)?.poster_path?Ye(e(r).poster_path,"w500"):"/images/placeholder-poster.svg"]),Ee("load",W,()=>h(se,!0)),Ue(W),i(He,le),Ma()}ya(["click"]);export{fs as component};
