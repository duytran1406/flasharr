import{d as ke,a as d,f as p,s as g,e as xe,r as ye,t as Se,c as R}from"../chunks/sPtpOMd4.js";import{p as Ce,U as Oe,v as s,x as T,t as h,a as Ae,V as z,W as N,c as t,s as r,r as v,X as H,f as x}from"../chunks/rK_yDtst.js";import{i as u}from"../chunks/CjsBHn32.js";import{t as De,s as K,a as Ie,e as Q,i as Z}from"../chunks/CL9ZHmPK.js";import{t as $,f as Le,M as Me,a as Re}from"../chunks/BJxdqBCf.js";import{s as ee}from"../chunks/C1treoV-.js";import{p as Ne}from"../chunks/CuiAmRUt.js";import{g as Ue,a as ae}from"../chunks/Czxl06ln.js";var Ve=p('<div></div> <img alt="" class="hidden-loader svelte-17ve9d9"/>',1),Fe=p('<div class="skeleton-title svelte-17ve9d9"></div>'),Be=p('<div class="hero-stats svelte-17ve9d9"><div class="hero-stat svelte-17ve9d9"><span class="stat-label svelte-17ve9d9">ASSETS_UNDER_COMMAND</span> <span class="stat-value svelte-17ve9d9"> </span></div> <div class="hero-stat svelte-17ve9d9"><span class="stat-label svelte-17ve9d9">CUMULATIVE_SCORE</span> <span class="stat-value svelte-17ve9d9"> </span></div></div>'),qe=p('<div class="skeleton-text svelte-17ve9d9"></div> <div class="skeleton-text svelte-17ve9d9"></div> <div class="skeleton-text svelte-17ve9d9" style="width: 60%"></div>',1),Ge=p('<p class="overview-text svelte-17ve9d9"> </p>'),Pe=p('<div class="asset-skeleton-card svelte-17ve9d9"></div>'),je=p('<div class="asset-card-wrapper svelte-17ve9d9"><!></div>'),Je=p('<div class="telemetry-row svelte-17ve9d9"><span class="tel-label svelte-17ve9d9">TOTAL_VOTES</span> <span class="tel-value svelte-17ve9d9"> </span></div>'),We=p('<div class="collection-view svelte-17ve9d9"><div class="view-container svelte-17ve9d9"><header><!> <div class="hero-overlay svelte-17ve9d9"></div> <div class="hero-content svelte-17ve9d9"><div class="intelligence-tag svelte-17ve9d9">STRATEGIC_COLLECTION_INTEL</div> <h1 class="collection-title svelte-17ve9d9"><!></h1> <!></div></header> <div class="collection-grid-container svelte-17ve9d9"><div class="main-column svelte-17ve9d9"><section class="overview-section glass-panel svelte-17ve9d9"><div class="section-badge svelte-17ve9d9">BRIEFING</div> <h3 class="section-label svelte-17ve9d9">Operational Overview</h3> <!></section> <section class="parts-section svelte-17ve9d9"><div class="section-header svelte-17ve9d9"><h3 class="section-label svelte-17ve9d9">Asset Sequence</h3> <span class="asset-count svelte-17ve9d9"> </span></div> <div class="assets-grid svelte-17ve9d9"><!></div></section></div> <aside class="sidebar-column svelte-17ve9d9"><div class="telemetry-panel glass-panel svelte-17ve9d9"><div class="section-badge svelte-17ve9d9">TELEMETRY</div> <div class="telemetry-rows svelte-17ve9d9"><div class="telemetry-row svelte-17ve9d9"><span class="tel-label svelte-17ve9d9">OBJECT_ID</span> <span class="tel-value svelte-17ve9d9"> </span></div> <div class="telemetry-row svelte-17ve9d9"><span class="tel-label svelte-17ve9d9">ACCESS_LEVEL</span> <span class="tel-value terminal-green svelte-17ve9d9">COMMANDER</span></div> <!></div> <div class="holographic-wave svelte-17ve9d9"></div></div> <div class="action-panel glass-panel svelte-17ve9d9"><button class="tactical-btn svelte-17ve9d9"><span class="material-icons svelte-17ve9d9">arrow_back</span> RETREAT_TO_PREVIOUS</button></div></aside></div></div></div>');function ea(se,te){Ce(te,!0);const y=z(()=>Ne.params.id);let o=N(null),f=N(!0),S=N(!1);async function ve(){T(f,!0);try{const e=await Ue(s(y));T(o,e,!0)}catch(e){console.error("Failed to load collection data:",e),De.error("Failed to load collection intelligence brief")}finally{T(f,!1)}}Oe(()=>{s(y)&&(T(S,!1),ve())});let b=z(()=>{if(!s(o)?.parts)return null;const e=s(o).parts;return{total_parts:e.length,avg_score:e.reduce((a,l)=>a+l.vote_average,0)/e.length,total_votes:e.reduce((a,l)=>a+l.vote_count,0)}});var C=We(),U=t(C),E=t(U);let V;ee(E,"background-image: url(/images/placeholder-banner.png)");var F=t(E);{var le=e=>{var a=Ve(),l=x(a);let n;var i=r(l,2);h((_,m)=>{n=K(l,1,"backdrop-real svelte-17ve9d9",null,n,{loaded:s(S)}),ee(l,_),Ie(i,"src",m)},[()=>`background-image: url(${ae(s(o).backdrop_path,"original")})`,()=>ae(s(o).backdrop_path,"original")]),xe("load",i,()=>T(S,!0)),ye(i),d(e,a)};u(F,e=>{s(o)?.backdrop_path&&e(le)})}var B=r(F,4),O=r(t(B),2),re=t(O);{var de=e=>{var a=Fe();d(e,a)},ie=e=>{var a=Se();h(()=>g(a,s(o)?.name||"Unknown Sequence")),d(e,a)};u(re,e=>{s(f)?e(de):e(ie,!1)})}v(O);var oe=r(O,2);{var ne=e=>{var a=Be(),l=t(a),n=r(t(l),2),i=t(n,!0);v(n),v(l);var _=r(l,2),m=r(t(_),2),w=t(m,!0);v(m),v(_),v(a),h(c=>{g(i,s(b).total_parts),g(w,c)},[()=>s(b).avg_score.toFixed(1)]),$(1,a,()=>Le),d(e,a)};u(oe,e=>{s(b)&&e(ne)})}v(B),v(E);var q=r(E,2),A=t(q),D=t(A),ce=r(t(D),4);{var _e=e=>{var a=qe();H(4),d(e,a)},pe=e=>{var a=Ge(),l=t(a,!0);v(a),h(()=>g(l,s(o)?.overview||"No intelligence report found for this collection fragment. Subject data remains fragmented.")),d(e,a)};u(ce,e=>{s(f)?e(_e):e(pe,!1)})}v(D);var G=r(D,2),I=t(G),P=r(t(I),2),ge=t(P);v(P),v(I);var j=r(I,2),ue=t(j);{var fe=e=>{var a=R(),l=x(a);Q(l,16,()=>Array(4),Z,(n,i)=>{var _=Pe();d(n,_)}),d(e,a)},me=e=>{var a=R(),l=x(a);{var n=i=>{var _=R(),m=x(_);Q(m,17,()=>s(o).parts.sort((w,c)=>new Date(w.release_date).getTime()-new Date(c.release_date).getTime()),Z,(w,c)=>{var k=je(),Te=t(k);Me(Te,{get id(){return s(c).id},get title(){return s(c).title},get posterPath(){return s(c).poster_path},get voteAverage(){return s(c).vote_average},get releaseDate(){return s(c).release_date},get overview(){return s(c).overview},mediaType:"movie"}),v(k),$(1,k,()=>Re,()=>({y:20,delay:100})),d(w,k)}),d(i,_)};u(l,i=>{s(o)?.parts&&i(n)},!0)}d(e,a)};u(ue,e=>{s(f)?e(fe):e(me,!1)})}v(j),v(G),v(A);var J=r(A,2),L=t(J),W=r(t(L),2),M=t(W),X=r(t(M),2),he=t(X);v(X),v(M);var be=r(M,4);{var Ee=e=>{var a=Je(),l=r(t(a),2),n=t(l,!0);v(l),v(a),h(i=>g(n,i),[()=>s(b).total_votes.toLocaleString()]),d(e,a)};u(be,e=>{s(b)&&e(Ee)})}v(W),H(2),v(L);var Y=r(L,2),we=t(Y);we.__click=()=>window.history.back(),v(Y),v(J),v(q),v(U),v(C),h(()=>{V=K(E,1,"collection-hero svelte-17ve9d9",null,V,{loading:s(f)}),g(ge,`${(s(o)?.parts.length||0)??""} ITEMS DETECTED`),g(he,`#${s(y)??""}`)}),d(se,C),Ae()}ke(["click"]);export{ea as component};
